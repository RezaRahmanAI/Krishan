@model IEnumerable<IMSWEB.WebsiteProductViewModels>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="py-5" style="background-color: #f5f6fa;">
    <div class="container">
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h2 class="fw-bold text-dark mb-3">All Products</h2>
                <div class="underline mx-auto mb-3"></div>
            </div>
        </div>

        <div class="row g-4 justify-content-center">
            @if (Model != null && Model.Any())
            {
                var randomItems = Model.OrderBy(x => Guid.NewGuid()).Take(30);
                foreach (var item in randomItems)
                {
                    <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                        <div class="product-card text-center p-4 shadow-sm rounded-4 bg-white h-100">
                            <div class="image-wrapper mb-3">
                                <a href="@Url.Action("GetProductDetails", "WebSiteProducts", new { id = item.Id })">
                                    <img src="@item.DocumentPath"
                                         class="img-fluid product-img"
                                         alt="@item.Title" />
                                </a>
                            </div>
                            <a href="@Url.Action("GetProductDetails", "WebSiteProducts", new { id = item.Id })"
                               class="text-decoration-none text-dark d-block mb-2">
                                <h5 class="product-title">@item.Title</h5>
                            </a>
                            <span class="fw-bold text-primary fs-5">@item.Price TK</span>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12 text-center">
                    <p class="text-muted">No products found.</p>
                </div>
            }
        </div>
    </div>
</section>

<style>
    /* Section Title Decoration */
    .underline {
        width: 80px;
        height: 3px;
        background-color: #007bff;
        border-radius: 10px;
    }

    /* Product Card Styling */
    .product-card {
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        border: 1px solid #e9ecef;
    }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

    /* Image wrapper to keep fixed ratio */
    .image-wrapper {
        width: 100%;
        aspect-ratio: 1 / 1;
        overflow: hidden;
        border-radius: 16px;
        background-color: #f8f9fa;
    }

    .product-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.4s ease;
    }

    .product-card:hover .product-img {
        transform: scale(1.1);
    }

    .product-title {
        font-size: 1.1rem;
        font-weight: 700;
        color: #212529;
        line-height: 1.3;
        min-height: 45px;
    }

        .product-title:hover {
            color: #007bff;
        }

    /* Responsive adjustments */
    @@media (max-width: 575px) {
        .product-title {
            font-size: 1rem;
        }

        .product-card {
            padding: 3px;
        }
    }
</style>
