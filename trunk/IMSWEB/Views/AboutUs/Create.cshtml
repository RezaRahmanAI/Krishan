@using IMSWEB.Model
@model IMSWEB.AboutUsViewModels

@{
    string actionName = ViewContext.RouteData.Values["action"].ToString();
    ViewBag.Title = actionName + " WebsiteProduct";
}

<h4 class="inline-header">@(ViewBag.Title + ".")</h4>

@using (Html.BeginForm(actionName, "AboutUs", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", enctype = "multipart/form-data", role = "form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Id);
    @Html.HiddenFor(m => m.DocumentPath);
    <div class="col-md-6">

        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group">
                    @Html.LabelFor(model => model.Title, htmlAttributes: new { @class = "control-label col-md-3 label-required" })
                    <div class="col-md-9">
                        @Html.EditorFor(model => model.Title, new { htmlAttributes = new { @class = "form-control input-sm", autofocus = "autofocus", tabindex = 1 } })
                        @Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })
                    </div>
                </div>
              
                <div class="form-group">
                    @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-9">
                        @Html.TextAreaFor(model => model.Description, new { @class = "form-control input-sm", rows = "3", @tabindex = "3" })
                        @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                    </div>
                </div>

            </div>
        </div>

    </div>

    <div class="col-md-6">

        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group">
                    <label class="control-label col-md-3">Documents <small class="text-danger">(max: 1.5 MB)</small></label>
                    <div class="col-md-9">
                        <input class="form-control input-sm" id="Photo" name="Photo" type="file" accept="application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,text/plain, application/pdf, image/*"
                               onchange="checkFileSize(this)" tabindex="-1" multiple />
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-offset-3 col-sm-9">
                        <input type="submit" value="Add Product" class="btn btn-sm btn-primary" tabindex="16" />
                    </div>
                </div>
            </div>
        </div>

    </div>
}
<script>
    function checkFileSize(e) {
        var fileList = e.files;

        if (!fileList || fileList.length === 0) {
            return;
        }

        for (var i = 0; i < fileList.length; i++) {
            var file = fileList[i];

            if (file.size > 1500000) {
                toastr.error('File "' + file.name + '" is too large (maximum size is 1.5 MB)');
                event.target.value = '';
                return;
            }
        }
    }


</script>
